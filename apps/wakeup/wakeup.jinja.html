{% extends "base.jinja.html" %}
{% import "macros.jinja.html" as macros -%}

{% block stylesheets %}
    {{ macros.staticAsset('wakeup', 'wakeup.css') }}
{% endblock %}

{% block app_message %}
    {% if sent %}
        <section id="app-message" class="success">Ping sent!</section>
    {% else %}
        {{ super() }}
    {% endif %}
{% endblock %}

{% block page_body %}
    <main>
        {{ macros.svgSymbols("add-item") }}

        <header class="app-nav">
            <a href="{{ registry_url }}">
                <svg class="icon"><use xlink:href="#add-item"></use></svg>
                Add host
            </a>
        </header>

        {% if not hosts %}
            <nav class="secondary">
                <div class="warning">No hosts found.</p>
            </nav>
        {% endif %}

        <section>
            {% for host, mac_address in hosts.items() %}
                <form class="host" method="POST" action="{{ app_url }}">
                    <input type="hidden" name="host" value="{{ host }}" />
                    <button>{{ host }}</button>
                </form>
                <span class="mac-address">{{ mac_address }}</span>
            {% endfor %}
        </section>
    </main>
{% endblock %}

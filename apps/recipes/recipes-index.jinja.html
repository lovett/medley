{% extends "recipes.jinja.html" %}

{% block scripts %}
    {{ macros.vueApp('main', ('discardable-record', 'discard-button')) }}
{% endblock %}

{% block content %}
    {{ macros.svgSymbols("new-item", "arrow-let", "tag", "delete") }}
    <main>
        {% include "recipe-search.jinja.html" %}

        <section id="collection">
            <h2>Recently Added</h2>
            {% set ns = namespace(recipes_found=False) %}
            <ul>
                {% for recipe in recently_added %}
                    {% set ns.recipes_found = True %}
                    {% include "recipe-listing.jinja.html" %}
                {% endfor %}
            </ul>

            {% if not ns.recipes_found %}
                <p>No recipes found.</p>
            {% endif %}
            <ul>
        </section>

        <section id="tagset">
            <h2>Tags</h2>

            {% set ns = namespace(tags_found=False) %}
            <ul>
                {% for tag in tags %}
                    {% set ns.tags_found = True %}
                    <li>
                        <a href="/recipes/tag/{{ tag["name"]|urlencode }}">
                            <svg class="icon"><use xlink:href="#icon-tag"></use></svg>
                            {{ tag["name"] }}
                        </a>
                    </li>
                {% endfor %}
            </ul>

            {% if not ns.tags_found %}
                <p>No tags found.</p>
            {% endif %}
        </section>
    </main>
{% endblock %}

{% extends "base.html" %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="/archive/static/archive.css" />
{% endblock %}

{% block scripts %}
<script src="/archive/static/archive.js"></script>
{% endblock %}

{% block svg_defs %}
{% endblock %}

{% block page_body %}

<main>
    <svg class="hidden">
        <symbol id="wayback-machine" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 546 147">
            <g id="g8" style="font-size:155px;font-weight:bold;fill:#a92e34;font-family:Ainsdale">
                <path d="m 52.182318,120.721 0,-108.035005 -15.345,0 0,110.205005 c 0,1.24 -0.31,2.17 -1.55,2.17 l -1.395,0 0,-112.375005 -15.345,0 0,112.375005 -1.705,0 c -0.93,0 -1.395,-0.77501 -1.395,-2.17 l 0,-110.205005 -15.345,0 0,107.88 c 0,10.84998 5.5800109,16.43 16.43,16.43 l 19.22,0 c 11.469988,0 16.43,-6.04502 16.43,-16.275" id="path10" />
                <path d="m 92.176955,124.79764 0,-95.48 c 0,-9.61 -6.51001,-14.57 -16.275,-14.57 -9.76499,0 -16.275,3.875011 -16.275,15.035 l 0,38.75 14.725,0 0,-39.99 c 0,-1.24 0.465001,-1.86 1.55,-1.86 0.93,0 1.55,0.62 1.55,1.55 l 0,50.375 -4.96,0 c -9.3,0 -12.865,4.34 -12.865,13.33 l 0,19.684997 c 0,8.525 3.255008,13.64 11.625,13.64 2.634997,0 5.425002,-1.395 6.82,-3.41 l 0,2.945 14.105,0 m -14.725,-13.33 c 0,1.085 -0.31,1.705 -1.55,1.705 -1.24,0 -1.55,-0.465 -1.55,-1.55 l 0,-18.91 c 0,-1.085 0,-2.325 1.395,-2.325 l 1.705,0 0,21.08" id="path12" />
                <path d="m 128.9346,131.82117 0,-116.094997 -14.725,0 0.155,95.324997 c -0.62,0.93 -0.15501,2.17 -1.705,2.17 -1.24,0 -1.55,-2.17 -1.55,-2.17 l 0,-95.325 -14.725004,0 0,96.41 c 0,8.525 2.635004,13.175 11.005004,13.175 2.63499,0 5.58,-1.395 6.975,-3.41 l -0.155,10.85 c 0,1.24 -0.31001,2.015 -1.55,2.015 -1.24,0 -1.55,-0.93 -1.55,-2.015 l 0,-4.03 -14.725004,0 0,4.03 c 0,9.61 6.510014,14.105 16.275004,14.105 9.76499,0 16.275,-3.87501 16.275,-15.035" id="path14" />
                <path d="m 169.5103,117.17839 0,-18.6 c 0,-4.65 -2.635,-8.835001 -6.665,-10.23 4.65,-1.24 6.665,-4.805004 6.665,-9.3 l 0,-53.32 c 0,-13.484986 -7.44001,-16.275 -17.98,-16.275 l -15.81,0 0,124.31 15.81,0 c 12.24499,0 17.98,-3.87501 17.98,-16.585 m -15.345,-32.084996 c 0,1.395 -0.775,2.48 -2.17,2.48 l -0.93,0 0,-66.96 0.775,0 c 1.705,0 2.325,0.93 2.325,2.17 l 0,62.31 m 0,34.874996 c 0,1.24 -0.775,2.17 -2.325,2.17 l -0.775,0 0,-22.165 0.93,0 c 1.395,0 2.17,1.08501 2.17,2.635 l 0,17.36" id="path16" />
                <path d="m 211.20232,140.98636 0,-104.72 c 0,-10.54 -7.14001,-15.98 -17.85,-15.98 -10.71,0 -17.85,4.250012 -17.85,16.49 l 0,42.5 16.15,0 0,-43.86 c 0,-1.36 0.51001,-2.04 1.7,-2.04 1.02,0 1.7,0.68 1.7,1.7 l 0,55.25 -5.44,0 c -10.2,0 -14.11,4.76 -14.11,14.62 l 0,21.59 c 0,9.35 3.57001,14.96 12.75,14.96 2.89,0 5.95001,-1.53001 7.48,-3.74 l 0,3.23 15.47,0 m -16.15,-14.62 c 0,1.19 -0.34,1.87 -1.7,1.87 -1.36,0 -1.7,-0.51001 -1.7,-1.7 l 0,-20.74 c 0,-1.19 0,-2.55 1.53,-2.55 l 1.87,0 0,23.12" id="path18" style="font-size:170px" />
                <path d="m 249.82505,99.94565 -14.88,0 0,21.235 c 0,0.93 -0.465,1.55 -1.705,1.55 -0.93,0 -1.395,-0.465 -1.395,-1.55 l 0,-84.01 c 0,-1.24 0.46501,-1.86 1.55,-1.86 0.93,0 1.55,0.62 1.55,1.86 l 0,40.3 14.88,0 0,-39.215 c 0,-9.61 -6.66501,-14.57 -16.43,-14.57 -9.76499,0 -16.275,3.875011 -16.275,15.035 l 0,81.374996 c 0,9.61 6.51001,14.57 16.275,14.57 9.76499,0 16.12,-3.87501 16.275,-15.035 l 0.155,-19.685" id="path20" />
                <path d="m 289.89317,130.99925 0,-35.34 c 0,-4.65 -2.63501,-8.835001 -6.665,-10.23 4.65,-1.24 6.665,-4.805004 6.665,-9.3 l 0,-60.3945 -14.88,0 0,66.7495 c 0,1.705 -0.155,2.325 -1.24,2.325 l -1.705,0 0,-84.1094981 -14.88,0 0,130.2994981 14.88,0 0,-34.41 1.705,0 c 1.085,0 1.24,1.24 1.24,2.17 l 0,32.24 14.88,0" id="path22" />
            </g>
            <g id="g24" style="font-size:155px;font-family:Ainsdale">
                <path d="m 338.79033,136.88489 0,-121.075005 c 0,-0.890545 -0.27838,-1.948211 -0.835,-3.173 -0.44537,-1.224542 -1.55871,-1.836874 -3.34,-1.837 l -4.008,0 0,126.085005 -11.523,0 0,-126.085005 -4.342,0 c -1.67002,0 -2.78335,0.612458 -3.34,1.837 -0.44535,1.224789 -0.66801,2.282455 -0.668,3.173 l 0,121.075005 -11.523,0 0,-119.071005 c 0,-5.232543 1.22466,-9.0178722 3.674,-11.356 2.44932,-2.4492008 6.29032,-3.6738662 11.523,-3.674 l 20.708,0 c 5.56662,0 9.46328,1.2804658 11.69,3.841 2.33795,2.449461 3.50695,6.123457 3.507,11.022 l 0,119.238005 -11.523,0" id="path26" style="font-size:167px" />
                <path d="m 376.34102,133.81305 0,-4.676 c -0.33403,1.002 -0.94636,1.89267 -1.837,2.672 -0.77936,0.668 -1.83703,1.28033 -3.173,1.837 -1.22469,0.44533 -2.83902,0.668 -4.843,0.668 -3.56268,0 -6.12335,-1.002 -7.682,-3.006 -1.55868,-2.11533 -2.33801,-5.344 -2.338,-9.686 l 0,-22.211 c 0,-4.453298 0.83499,-7.626295 2.505,-9.519004 1.67,-1.892621 4.62032,-2.838953 8.851,-2.839 l 7.849,0 0,-59.285 c 0,-1.224559 -0.3897,-2.226558 -1.169,-3.006 -0.77936,-0.890556 -1.78136,-1.335889 -3.006,-1.336 -1.55869,0 -2.67202,0.50111 -3.34,1.503 -0.55669,0.890775 -0.83502,1.948441 -0.835,3.173 l 0,47.595 -10.855,0 0,-46.092 c 0,-5.34389 1.28032,-9.073553 3.841,-11.189 2.67198,-2.115216 6.40165,-3.172881 11.189,-3.173 4.7873,0 8.4613,1.169118 11.022,3.507 2.67196,2.338113 4.00796,5.733776 4.008,10.187 l 0,104.876004 -10.187,0 m -0.668,-38.744004 -4.342,0 c -1.67002,0 -2.78335,0.556705 -3.34,1.67 -0.44535,1.002036 -0.66802,2.171034 -0.668,3.507004 l 0,21.376 c 0,1.22467 0.33398,2.28234 1.002,3.173 0.66798,0.77934 1.72564,1.169 3.173,1.169 1.55864,0 2.61631,-0.501 3.173,-1.503 0.66797,-1.002 1.00197,-2.004 1.002,-3.006 l 0,-26.386004" id="path28" style="font-size:167px" />
                <path d="m 410.47003,74.917526 0,-44.485 c 0,-1.136567 -0.36169,-2.118233 -1.085,-2.945 -0.62002,-0.929898 -1.55002,-1.394898 -2.79,-1.395 -1.44669,0 -2.48002,0.465102 -3.1,1.395 -0.51668,0.826767 -0.77502,1.808433 -0.775,2.945 l 0,87.73 c 0,1.13667 0.30998,2.11834 0.93,2.945 0.72331,0.72334 1.65331,1.085 2.79,1.085 1.23998,0 2.22164,-0.36166 2.945,-1.085 0.72331,-0.82666 1.08497,-1.80833 1.085,-2.945 l 0,-24.49 10.23,0 -0.155,22.785004 c 0,4.96 -1.24003,8.42167 -3.72,10.385 -2.3767,1.96333 -5.78669,2.945 -10.23,2.945 -4.44335,0 -7.90501,-1.085 -10.385,-3.255 -2.37668,-2.17 -3.56501,-5.32166 -3.565,-9.455 l 0,-84.94 c 0,-4.96 1.18832,-8.421562 3.565,-10.385 2.48,-1.963225 5.94165,-2.94489 10.385,-2.945 4.44331,0 7.90497,1.085109 10.385,3.255 2.47997,2.170104 3.71996,5.321768 3.72,9.455 l 0,43.4 -10.23,0" id="path30" />
                <path d="m 445.96429,137.57209 0,-101.464538 c 0,-1.343237 -0.25836,-2.531569 -0.775,-3.565 -0.41336,-1.033234 -1.44669,-1.55 -3.1,-1.55 -1.65335,0 -2.73835,0.516766 -3.255,1.55 -0.41335,1.033431 -0.62002,2.221763 -0.62,3.565 l 0,101.464538 -10.23,0 0,-130.294538 10.075,0 0,19.375 c 0.30998,-0.826561 0.87832,-1.60156 1.705,-2.325 0.72332,-0.619892 1.65331,-1.188225 2.79,-1.705 1.13665,-0.516557 2.68664,-0.774891 4.65,-0.775 2.68664,0 4.80497,0.826775 6.355,2.48 1.6533,1.550105 2.48,4.340103 2.48,8.37 l 0,104.874538 -10.075,0" id="path32" />
                <path d="m 473.1951,16.363475 c 0,0.985132 -0.53357,2.011211 -1.60069,3.078241 -1.06713,1.067215 -2.4626,1.600776 -4.1864,1.600684 -1.72383,0 -3.11929,-0.533469 -4.18641,-1.600684 -0.98504,-1.06703 -1.47756,-2.093109 -1.47756,-3.078241 0,-1.067027 0.49252,-2.134149 1.47756,-3.201371 1.06712,-1.14911 2.46258,-1.723715 4.18641,-1.723815 1.64172,0 2.99614,0.574705 4.06327,1.723815 1.1492,1.149308 1.7238,2.21643 1.72382,3.201371 m -10.91803,108.457655 0,-97.33631 10.23,0 0,97.33631 -10.23,0" id="path34" />
                <path d="m 498.92031,133.5014 0,-102.864498 c 0,-0.826569 -0.25835,-1.808235 -0.775,-2.945 -0.41335,-1.24 -1.49835,-1.86 -3.255,-1.86 -1.65335,0 -2.68668,0.620101 -3.1,1.86 -0.41334,1.136765 -0.62001,2.118431 -0.62,2.945 l 0,102.864498 -10.23,0 0,-115.109498 10.23,0 -0.155,4.185 c 0.31,-0.826561 0.87832,-1.60156 1.705,-2.325 0.72332,-0.619892 1.65332,-1.188225 2.79,-1.705 1.13665,-0.516557 2.68665,-0.774891 4.65,-0.775 5.88997,0 8.835,3.926772 8.835,11.78 l 0,103.949498 -10.075,0" id="path36" />
                <path d="m 545.27094,120.4833 c 0,5.344 -1.33603,9.07367 -4.008,11.189 -2.56069,2.004 -6.29036,3.006 -11.189,3.006 -4.78735,0 -8.51701,-1.169 -11.189,-3.507 -2.56067,-2.338 -3.841,-5.73366 -3.841,-10.187 l 0,-91.516003 c 0,-5.34389 1.28033,-9.073553 3.841,-11.189 2.67199,-2.115216 6.40165,-3.172881 11.189,-3.173 4.67598,0 8.34997,1.224784 11.022,3.674 2.7833,2.449446 4.17497,6.012109 4.175,10.688 l 0,65.464 -19.372,0 0,27.221003 c 0,1.22467 0.33399,2.28234 1.002,3.173 0.77932,0.77934 1.78132,1.169 3.006,1.169 1.33598,0 2.39365,-0.38966 3.173,-1.169 0.77931,-0.89066 1.16898,-1.94833 1.169,-3.173 l 0,-16.2 11.022,0 0,14.529 m -11.022,-92.852003 c 0,-1.224559 -0.38969,-2.282225 -1.169,-3.173 -0.66802,-1.00189 -1.67002,-1.502889 -3.006,-1.503 -1.55868,0 -2.67201,0.50111 -3.34,1.503 -0.55668,0.890775 -0.83501,1.948441 -0.835,3.173 l 0,59.118 8.35,0 0,-59.118" id="path38" style="font-size:167px" />
            </g>
        </svg>
    </svg>
    <form class="content-wrapper" method="get" action="/archive">
        <div class="field">
            <label for="q">Search terms</label>
            <input type="text" id="q" name="q" value="{{ q|default('', true) }}"/>
        </div>
        <div class="field-group">
            <div class="field">
                <button>Search</button>
            </div>
            <div class="field align-right">
                <a href="/archive">Reset</a>
            </div>
        </div>
    </form>

    <div class="content-wrapper">

        <p {% if entries %}class="hidden nothing-message"{% endif %}>Nothing found</p>

        {% for key, entries in entries.items() %}
        <div class="date-group">
            <h1>{{ entries[0].created|localtime("date-full") }}</h1>
            {% for entry in entries %}
            <div class="bookmark">
                <div class="actions">
                    <a href="#" class="delete" data-uid="{{ entry.rowid }}" rel="noreferrer" title="Delete this bookmark">
                        <svg class="icon icon-bin"><use xlink:href="#icon-bin"></use></svg>
                    </a>
                </div>

                <p class="meta">
                    <time>
                        {{ entry.created|localtime("time12") }}
                    </time>

                    from <span class="domain">{{ entry.domain }}</span>
                </p>

                <h2><a href="{{ entry.url|anonymize }}" rel="noreferrer" target="_blank">{{ entry.title }}</a></h2>

                {% if entry.comments %}
                <p class="comments">
                    {{ entry.comments }}
                </p>
                {% endif %}
                <div class="align-right">
                    <a class="wayback" href="#" data-url="{{ entry.url }}">
                        <svg width="91" height="25"><Use xlink:href="#wayback-machine" /></svg>
                    </a>
                </div>

            </div>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
</main>

{% endblock %}
